# キャラクター

## 移動処理

法線を使い、傾きに合わせた方向に、ベロシティを設定している。

坂で滑らないようにするため、gravityを無効にしている。

法線ベクトルの逆向きにベロシティを設定している。これによって、地面に張り付きやすくなり、上り坂で止まった時にジャンプする現象もなくなる。

## つかまり処理

移動は、カメラに合わせた方向だけど、つかまり処理では、上下が上昇下降になる。

こちらも、法線を使い、傾きに合わせた方向に、ベロシティを設定している。

## ジャンプ

移動する床の影響も加算している。

## 地面判定

地面判定をするレイヤーのオブジェクトだけ対象。

接触している、すべてのオブジェクトの接点を監視し続ける。
どれか一つでも、足元であり、かつ、一定以内の角度の場合は、地面にいると判断。

つかまり処理も同じような仕組みだけど、Hangタグのオブジェクトが対象。

## 水中判定

Waterタグのトリガー内のどれかに、コライダーの中心がいるときは水中。

## 引っ掛かり対応

摩擦を0にしている。
